var data = [
    {
      img: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dw48cfba07/crop/026499664_crop.jpg?sw=500&sh=600&sm=fit&q=75&yocs=o_s_",
      name: "Sunny Tropical Mango",
      disc: "3-Wick Candle",
      strikeoff: "$15.50",
      rate: "Now $3.87",
      p1: "",
      smell: "FRUITY",
      type: "BODY CREAM",
    },
    {
      img: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dwc9985836/crop/026458601_crop.jpg?sw=500&sh=600&sm=fit&q=75&yocs=o_s__",
      name: "Clean State",
      disc: "3-in-1 Hair, Face & Body Wash",
      strikeoff: "$14.50",
      rate: "Now $3.62",
     
      smell: "FRESH",
      type: "ALL",
    },
    {
      img: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dwde994d02/crop/026299738_crop.jpg?sw=500&sh=600&sm=fit&q=75&yocs=o_s_",
      name: "Stone",
      disc: "Body Lotion",
      strikeoff: "$13.50",
      rate: "Now $3.37",
      
      smell: "SWEET",
      type: "BODY LOTION",
    },
    {
      img: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dw9f8749e6/crop/026390559_crop.jpg?sw=500&sh=600&sm=fit&q=75&yocs=o_s__",
      name: "Bourbon",
      disc: "Body Lotion",
      strikeoff: "$13.50",
      rate: "Now $3.37",
      p1: "",
      smell: "SWEET",
      type: "BODY LOTION",
    },
    {
      img: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dwe90c060b/crop/026495798_crop.jpg?sw=500&sh=600&sm=fit&q=75&yocs=o_s__",
      name: "Noir",
      disc: "3 in 1 Hair, Face & Body Wash",
      strikeoff: "$0",
      rate: "Now $14.50",
      p1: "",
      smell: "FRESH",
      type: "ALL",
    },
    {
      img: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dw40aaca8c/crop/026499672_crop.jpg?sw=500&sh=600&sm=fit&q=75&yocs=o_s__",
      name: "Teak Wood",
      disc: "3 in 1 Hair, Face & Body Wash",
      strikeoff: "$0",
      rate: "Now $13.87",
      p1: "",
      smell: "WOODY",
      type: "ALL",
    },
    {
      img: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dw26858c2d/crop/026412356_crop.jpg?sw=500&sh=600&sm=fit&q=75&yocs=o_s__",
      name: "Ocean",
      disc: "Concentrated Room Spray",
      strikeoff: "$15.50",
      rate: "Now $3.87",
      
      smell: "FRESH",
      type: "BODY SPRAY",
    },
    {
      img: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dwc9985836/crop/026458601_crop.jpg?sw=500&sh=600&sm=fit&q=75&yocs=o_s_",
      name: "Noir",
      disc: "Body Spray",
      strikeoff: "$0",
      rate: "Now $14.50",
      p1: "",
      smell: "WOODY",
      type: "BODY SPRAY",
    },
    {
      img: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dw61b87faa/crop/026440720_crop.jpg?sw=500&sh=600&sm=fit&q=75&yocs=o_s__",
      name: "Whiskey Reserve",
      disc: "3 in 1 Hair, Face & Body Wash",
      strikeoff: "$14.50",
      rate: "Now $3.62",
      p1: "",
      smell: "WOODY",
      type: "ALL",
    },
    {
      img: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dwb87782ed/crop/026499673_crop.jpg?sw=500&sh=600&sm=fit&q=75&yocs=o_s___",
      name: "Ocean",
      disc: "Hand Sanitizer",
      strikeoff: "$15.50",
      rate: "Now $3.87",
      p1: "",
      smell: "FRESH",
      type: "BODY LOTION",
    },
    {
      img: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dwbe279104/crop/026517161_crop.jpg?sw=500&sh=600&sm=fit&q=75&yocs=o_s_",
      name: "Stone",
      disc: "Ulitmate Hydration Body Cream",
      strikeoff: "$15.50",
      rate: "Now $3.87",
     
      smell: "SWEET",
      type: "BODY CREAM",
    },
    {
      img: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dw995ccba1/crop/026495795_crop.jpg?sw=500&sh=600&sm=fit&q=75&yocs=o_s__",
      name: "TeakWood",
      disc: "Deodrant",
      strikeoff: "$15.50",
      rate: "Now $3.87",
      
      smell: "WOODY",
      type: "BODY SPRAY",
    },
    {
      img: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dwf6a495ea/crop/026397123_crop.jpg?sw=500&sh=600&sm=fit&q=75&yocs=o_s__",
      name: "Sweater Weather",
      disc: "Gentle Gel Hair Soap",
      strikeoff: "$7.50",
      rate: "Now $3.27",
      p1: "",
      smell: "FRESH",
      type: "BODY CREAM",
    },
    {
      img: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dw0a734443/crop/026412341_crop.jpg?sw=500&sh=600&sm=fit&q=75&yocs=o_s__",
      name: "White Adjustable",
      disc: "Wallflowers Scent Controlâ„¢ Plug",
      strikeoff: "$0",
      rate: "Now $12.57",
      p1: "",
      smell: "FRUITY",
      type: "BODY SPRAY",
    },
    {
      img: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dwad70deb6/crop/026467605_crop.jpg?sw=500&sh=600&sm=fit&q=75&yocs=o_s_",
      name: "Marble",
      disc: "Ultimate Hydrogen Body Cream",
      strikeoff: "$0",
      rate: "Now $13.87",
      p1: "",
      smell: "SWEET",
      type: "BODY CREAM",
    },
    {
      img: "https://cdn-fsly.yottaa.net/5d669b394f1bbf7cb77826ae/www.bathandbodyworks.com/v~4b.216/dw/image/v2/BBDL_PRD/on/demandware.static/-/Sites-master-catalog/default/dwb87782ed/crop/026499673_crop.jpg?sw=500&sh=600&sm=fit&q=75&yocs=o_s_",
      name: "Graphite",
      disc: "Antiperpirant Deodrant",
      strikeoff: "$15.50",
      rate: "Now $13.87",
     
      smell: "WOODY",
      type: "BODY SPRAY",
    },
    
    // {
    //     img: "",
    //     name: "",
    //     disc: "",
    //     strikeoff: "$15.50",
    //     rate: "Now $3.87",
    //     p1: "",
    // smell: "WOODY",
    // type: "BODY SOAP",
    // },
  ];

  localStorage.setItem("Data", JSON.stringify(data));
  var mensData = JSON.parse(localStorage.getItem("Data"));

  document.querySelector("#qty").textContent = data.length + " items";

  var cartArray = JSON.parse(localStorage.getItem("cartItems")) || [];

  createProduct(mensData);

  function createProduct(mensData) {
    document.querySelector("#container").innerHTML = "";

    mensData.map(function (ele) {
      var pro = document.createElement("div");
      pro.setAttribute("class", "product");

      var top = document.createElement("div");
      top.setAttribute("id", "top");

      var img = document.createElement("img");
      img.setAttribute("src", ele.img);

      top.append(img);

      var bot1 = document.createElement("div");
      bot1.setAttribute("id", "bottom");

      var h3 = document.createElement("h3");
      h3.textContent = ele.name;

      var p1 = document.createElement("p");
      p1.setAttribute("id", "disc");
      p1.textContent = ele.disc;

      var sttext = document.createElement("div");
      sttext.setAttribute("id", "stText");

      var h3_2 = document.createElement("h3");
      h3_2.setAttribute("id", "strike");
      h3_2.textContent = ele.strikeoff;

      var h3_3 = document.createElement("h3");
      h3_3.setAttribute("id", "rate");
      h3_3.textContent = ele.rate;

      sttext.append(h3_2, h3_3);

      var p2 = document.createElement("p");
      p2.textContent = ele.p1;

      bot1.append(h3, p1, sttext, p2);

      var bot2 = document.createElement("div");
      bot2.setAttribute("id", "bottom2");

      var imp = document.createElement("input");
      imp.setAttribute("type", "button");
      imp.setAttribute("id", "button");
      imp.value = "ADD TO BAG";

      imp.addEventListener("click", function () {
        addTOCart(ele);
      });

      var str = document.createElement("div");
      str.setAttribute("class", "star");

      for (var i = 1; i <= 5; i++) {
        var sp = document.createElement("span");
        sp.setAttribute("id", i + "one");
        sp.setAttribute("class", "fa fa-star fa-3x");
        sp.setAttribute("onclick", "starmark(this)");
        str.append(sp);
      }

      bot2.append(imp, str);

      pro.append(top, bot1, bot2);

      document.querySelector("#container").append(pro);
    });
  }

  function addTOCart(ele) {
    cartArray.push(ele);
    console.log(cartArray);
    localStorage.setItem("cartItems", JSON.stringify(cartArray));
    alert("added to cart");
  }

  function starmark(item) {
    var count = item.id[0];
    var subid = item.id.substring(1);
    for (var i = 0; i < 5; i++) {
      if (i < count) {
        document
          .getElementById(i + 1 + subid)
          .setAttribute("class", "fa fa-star fa-3x checked");
      }
    }
  }

  function sort() {
    var val = document.querySelector("#sorttag").value;

    if (val == "Low To High") {
      data.sort(function (a, b) {
        return Number(a.rate.substring(5)) - Number(b.rate.substring(5));
      });
      createProduct(data);
    } else if (val == "High To Low") {
      data.sort(function (a, b) {
        return Number(b.rate.substring(5)) - Number(a.rate.substring(5));
      });
      createProduct(data);
    } else {
      createProduct(mensData);
      document.querySelector("#qty").textContent = mensData.length + " items";
    }
  }

  function smell() {
    var val = document.querySelector("#smellTag").value;

    if (val == "FRESH") {
      var arr = data.filter(function (ele) {
        return ele.smell == "FRESH";
      });
      createProduct(arr);
      document.querySelector("#qty").textContent = arr.length + " items";
    }
    if (val == "FRUITY") {
      var arr = data.filter(function (ele) {
        return ele.smell == "FRUITY";
      });
      createProduct(arr);
      document.querySelector("#qty").textContent = arr.length + " items";
    }
    if (val == "SWEET") {
      var arr = data.filter(function (ele) {
        return ele.smell == "SWEET";
      });
      createProduct(arr);
      document.querySelector("#qty").textContent = arr.length + " items";
    }
    if (val == "WOODY") {
      var arr = data.filter(function (ele) {
        return ele.smell == "WOODY";
      });
      createProduct(arr);
      document.querySelector("#qty").textContent = arr.length + " items";
    }
  }

  function offer() {
    var val = document.querySelector("#offerTag").value;

    if (val == "OFFER") {
      var arr = data.filter(function (ele) {
        return ele.p1 !== "";
      });
      createProduct(arr);
      document.querySelector("#qty").textContent = arr.length + " items";
    }
    if (val == "REGULAR") {
      var arr = data.filter(function (ele) {
        return ele.p1 == "";
      });
      createProduct(arr);
      document.querySelector("#qty").textContent = arr.length + " items";
    }
  }

  function typeT() {
    var val = document.querySelector("#typeTag").value;

    if (val == "BODY CREAM") {
      var arr = data.filter(function (ele) {
        return ele.type == "BODY CREAM" || ele.type == "ALL";
      });
      createProduct(arr);
      document.querySelector("#qty").textContent = arr.length + " items";
    }
    if (val == "BODY LOTION") {
      var arr = data.filter(function (ele) {
        return ele.type == "BODY LOTION" || ele.type == "ALL";
      });
      createProduct(arr);
      document.querySelector("#qty").textContent = arr.length + " items";
    }
    if (val == "BODY SPRAY") {
      var arr = data.filter(function (ele) {
        return ele.type == "BODY SPRAY" || ele.type == "ALL";
      });
      createProduct(arr);
      document.querySelector("#qty").textContent = arr.length + " items";
    }
    if (val == "BODY SOAP") {
      var arr = data.filter(function (ele) {
        return ele.type == "BODY SOAP" || ele.type == "ALL";
      });
      createProduct(arr);
      document.querySelector("#qty").textContent = arr.length + " items";
    }
  }

  document.querySelector("#search + span").addEventListener("click", search);

  function search() {
    var res = document.querySelector("#search").value;
    res = res.toLocaleLowerCase();

    var arr = data.filter(function (ele) {
      var name = ele.name.toLocaleLowerCase();
      return name.includes(res);
    });
    createProduct(arr);
    document.querySelector("#qty").textContent = arr.length + " items";
  }